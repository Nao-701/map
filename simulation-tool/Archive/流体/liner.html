<!DOCTYPE html>
<!-- saved from url=(0049)https://mathmaticsphysics.web.fc2.com/Dust-2.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style>
body { color: white;
  background-color: black }
</style>


  <title>Imony-Dust</title>
</head>
<body data-new-gr-c-s-check-loaded="14.1014.0" data-gr-ext-installed="" class="vsc-initialized">
  <canvas id="myCanvas" width="3840" height="2110" style="width: 100%; height: 100%;　"></canvas>
  <script>
  var randlength=9;//動きの激しさを選択できる
  var distance;
  var v0=5;
  var e=Math.random()*(0.5)+0.5;
  var Max_mass=Math.floor(Math.random()*(5)+1)*40;
  var Min_mass=1;
  //色を選択できる
  let color=[
    "#0095DD","#f0e68c","#90ee90","#c71585",
    "#4682b4","#f0312f","#008080","#ff7f50",
    "#3cb371","#db7093","#902d9f","#daa520",
    "#0095DD","#f0e68c","#90ee90","#c71585",
  ]

  var canvas = document.getElementById("myCanvas");
  var ctx = canvas.getContext("2d");
  var x = Array(n);
  var y = Array(n);
  var vx = Array(n);
  var vy = Array(n);
  var m = Array(n);
  canvas.width=screen.availWidth*2;
  canvas.height=screen.availHeight*2;
  var x0=canvas.width/2;
  var y0=canvas.height/2;
  var result=canvas.width/3840;
  var n=Math.floor(Math.random()*(100)+50);
  for (var i = 0; i < n; i++){
    x[i]=Math.floor(Math.random()*(2*x0)) ;
    y[i]=Math.floor(Math.random()*(2*y0)) ;
    vx[i]=(Math.floor(Math.random()*(2*v0+1))-v0) ;
    vy[i]=(Math.floor(Math.random()*(2*v0+1))-v0) ;
    m[i]= Math.floor(Math.random()*(Max_mass-Min_mass))+Min_mass ;
  }


  function draw() {
    ctx.beginPath();
    for(i=n;i>-1;i--){
      for(var k=0;k<i;k++){
        distance = (Math.sqrt(m[i])+Math.sqrt(m[k]))*3;
        if( Math.hypot(x[i]+5*vx[i]-x[k]-5*vx[k],y[i]+5*vy[i]-y[k]-5*vy[k]) < distance/Math.sqrt(n)*100) {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.fill();
      ctx.strokeStyle = color[i*k%16];
      ctx.moveTo(x[i], y[i]);
      ctx.lineTo(x[k], y[k]);
      ctx.stroke();
}
        }

        ctx.closePath();
      if(0>=x[i]-Math.sqrt(m[i])*3){
        vx[i]=Math.abs(vx[i]);
      }

      if(x[i]+Math.sqrt(m[i])*3>=canvas.width){
        vx[i]=-Math.abs(vx[i]);
      }

      if(0>=y[i]-Math.sqrt(m[i])*3){
        vy[i]=Math.abs(vy[i]);
      }

      if(y[i]+Math.sqrt(m[i])*3>=canvas.height){
        vy[i]=-Math.abs(vy[i]);
      }
      x[i]+=vx[i];
      y[i]+=vy[i];
    }
}
  setInterval(draw, 10);

</script>

</body></html>
