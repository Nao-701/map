<!DOCTYPE html>
	<html>
	<style>
	body {color: white;
		background-color: black}
	</style>
	<head>
		<meta charset="utf-8" />
		<title>Imony-vortex</title>
	</head>
	<body>
		<canvas  id="myCanvas" width="" height="" style="width: 100%; height: 100%;"></canvas>
		<script>
		var switch1=1;
		var fps=60;
		var n=200;
		var m=5;
		var strong=20;
		var radium=6;
		var radium_vortex=0;

		let color=[
			"#0095DD","#f0e68c","#90ee90","#c71585",
			"#4682b4","#f0312f","#008080","#ff7f50",
			"#3cb371","#db7093","#902d9f","#daa520",
			"#0095DD","#f0e68c","#90ee90","#c71585",
		]
		var canvas = document.getElementById("myCanvas");
		var ctx = canvas.getContext("2d");
		canvas.width=screen.availWidth*4;
		canvas.height=screen.availHeight*4;
		var x0=canvas.width;
		var y0=canvas.height;

		var margin=100;
		var xx,yy,vx,vy,i,j,distance;
		//x0*y0/margin^2;
		var x = Array(n);
		var y = Array(n);
		//Math.floor(Math.random()*(5))+5;
		var x_vortex = Array(m);
		var y_vortex = Array(m);
		var Gammma = Array(m);

		for (i = 0; i < n; i++){
			x[i]=Math.floor(Math.random()*(x0*1.4))-x0*0.2 ;
			y[i]=Math.floor(Math.random()*(y0*1.4))-y0*0.2 ;
		}

		for (i = 0; i < m; i++){
			x_vortex[i]=Math.floor(Math.random()*(x0)) ;
			y_vortex[i]=Math.floor(Math.random()*(y0)) ;
			Gammma[i]=(Math.floor(Math.random()*(100))-50 )*strong;
		}

		function drawBall() {
			for(i=0;i<m;i++){
				ctx.beginPath();
				ctx.arc(x_vortex[i], y_vortex[i], radium_vortex, 0, Math.PI*2);
				ctx.fillStyle = color[1];
				ctx.fill();
				ctx.closePath();
		}

			for(i=0;i<n;i++){
				ctx.beginPath();
				ctx.arc(x[i], y[i], radium, 0, Math.PI*2);
				ctx.fillStyle = color[i%16];
				ctx.fill();
				ctx.closePath();
		}
	}
		function draw() {
				    ctx.clearRect(-x0*3*switch1, -y0*3*switch1, x0*3, y0*3);
			drawBall();
			for(i=0;i<n;i++){
				vx=0;
				vy=0;
					for(j=0;j<m;j++){
						xx = x[i]-x_vortex[j];
						yy = y[i]-y_vortex[j];
						distance = xx*xx + yy*yy;
						vx-=Gammma[j]*yy/distance;
						vy+=Gammma[j]*xx/distance;
					}
				x[i]+=vx;
				y[i]+=vy;
			}

			for(i=0;i<m;i++){
				vx=0;
				vy=0;
					for(j=0;j<m;j++){
						if(i!=j){
						xx = x_vortex[i]-x_vortex[j];
						yy = y_vortex[i]-y_vortex[j];
						distance = xx*xx + yy*yy;
						vx-=Gammma[j]*yy/distance;
						vy+=Gammma[j]*xx/distance;
					}
				}

				x_vortex[i]+=vx;
				y_vortex[i]+=vy;
			}

		}
		setInterval(draw, 1000 / fps);
	</script>
	</body>
	</html>
