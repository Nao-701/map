<!DOCTYPE html>
	<html>
	<style>
	body {color: white;
		background-color: black}
	</style>
	<head>
		<meta charset="utf-8" />
		<title>Imony-vortex</title>
	</head>
	<body>
		<canvas  id="myCanvas" width="" height="" style="width: 100%; height: 100%;"></canvas>
		<script>
		var U=5;
		var pp=10;
		var switch1=0;
		var fps=100;
		var n=50;
		var m=10;
		var radium=1;
		var radium_vortex=0;
		var strong=1000;
		var flag=0;
		let color=[
			"#0095DD","#f0e68c","#90ee90","#c71585",
			"#4682b4","#f0312f","#008080","#ff6c36",
			"#3cb371","#db7093","#902d9f","#daa520",
			"#00E5DD","#f0e68c","#90ee90","#c71585",
		]
		var canvas = document.getElementById("myCanvas");
		var ctx = canvas.getContext("2d");
		canvas.width=screen.availWidth*1;
		canvas.height=screen.availHeight*1;
		var x0=canvas.width;
		var y0=canvas.height;
		var rx0 = x0*0.5;
		var ry0 = y0*0.5;
		var r=Math.sqrt(x0*y0)/10;

		var margin=100;
		var xx,yy,vx,vy,i,j,distance,vr,vtheta;
		//x0*y0/margin^2;
		var x = Array(n);
		var y = Array(n);
		//Math.floor(Math.random()*(5))+5;
		var x_vortex = Array(m);
		var y_vortex = Array(m);
		var Gammma = Array(m);

		for (i = 0; i < n; i++){
			x[i]=0;
			//Math.random()*(x0*pp/10)+x0*(0.1-pp/20) ;
			y[i]=y0*1.4/n*i -y0*0.2 ;
		}

		function drawBall() {
			ctx.arc(rx0, ry0, r, 0, Math.PI*2);
			ctx.fillStyle = color[1];
			ctx.fill();
			ctx.closePath();
			for(i=0;i<m;i++){
				ctx.beginPath();
				ctx.arc(x_vortex[i], y_vortex[i], radium_vortex, 0, Math.PI*2);
				ctx.fillStyle = color[1];
				ctx.fill();
				ctx.closePath();
		}

			for(i=0;i<n;i++){
				ctx.beginPath();
				ctx.arc(x[i], y[i], radium, 0, Math.PI*2);
				ctx.fillStyle = color[i%16];
				ctx.fill();
				ctx.closePath();
		}
	}
		function draw() {
				    ctx.clearRect(0, 0, x0*switch1, y0*switch1);
			drawBall();
			for(i=0;i<n;i++){
				vx=0;
				vy=0;
						xx = x[i]-rx0;
						yy = y[i]-ry0;
						distance = Math.sqrt(xx*xx+yy*yy);
						vr=U*(1-r*r/distance/distance)*xx/distance;
						vtheta=-U*(1+r*r/distance/distance)*yy/distance-strong/distance;
						vx=vr*xx/distance-vtheta*yy/distance;
						vy=vr*yy/distance+vtheta*xx/distance;
				x[i]+=vx;
				y[i]+=vy;
				if(x[i]>x0 && Math.floor(flag/n) < y0*1.4/n){
					x[i]=0;
					y[i]=y0*1.4/n*flag%y0 -y0*1.4/n*Math.floor(flag/n) ;
					flag=flag+1
				}
		}
	}
		setInterval(draw, 1000 / fps);
	</script>
	</body>
	</html>
